AC_INIT(raceintospace.spec)

dnl Get the operating system and version number...
dnl uname=`uname`

AC_PROG_CC

AC_CHECK_LIB(vorbisfile,main)
AC_CHECK_LIB(asound,main)
AC_CHECK_LIB(m,main)
AC_CHECK_LIB(SDL,main)

dnl OS-specific configuration
case "$target" in
i386-mingw32msvc)
	dnl Windows/CygWin configuration
	LIBS="$LIBS `sdl-config --libs`"
	PROG_NAME=raceintospace.exe
	;;
*-apple-darwin*)
	dnl Mac OS X configuration
	CFLAGS="$CFLAGS -DMACOSX"
	LIBS="$LIBS `sdl-config --libs`"
	PROG_NAME=raceintospace
	;;
*)
	dnl Unix OSS configuration
	LIBS="$LIBS `sdl-config --libs`"
	PROG_NAME=raceintospace
	;;
esac


AC_SUBST(PROG_NAME)

AC_CONFIG_HEADER(race.h)
AC_OUTPUT(Makefile, chmod a-w Makefile race.h)
